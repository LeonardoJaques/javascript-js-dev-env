{"version":3,"sources":["webpack:///./src/index.js","webpack:///./src/index.css","webpack:///./src/api/userApi.js","webpack:///./src/api/baseUrl.js"],"names":["then","usersBody","result","forEach","user","id","firstName","lastName","email","global","document","getElementById","innerHTML","deleteLinks","getElementsByClassName","Array","from","link","onclick","event","element","target","preventDefault","attributes","value","row","parentNode","removeChild","getUsers","deleteUser","baseUrl","get","del","url","fetch","onSuccess","onError","request","Request","method","response","json","error","console","log","getBaseUrl","getQueryStringParameterByName","name","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent"],"mappings":";;;;;;AAAA;;AACA;;AAEA;;AAEA,0BAAWA,IAAX,CAAgB,kBAAS;AACrB,SAAKC,YAAY,EAAjB;;AAEAC,YAAOC,OAAP,CAAgB,gBAAO;AACnBF,wDAA8CG,KAAKC,EAAnD,gDAAgGD,KAAKC,EAArG,iBAAmHD,KAAKE,SAAxH,iBAA6IF,KAAKG,QAAlJ,iBAAsKH,KAAKI,KAA3K;AAEH,MAHD;AAIAC,YAAOC,QAAP,CAAgBC,cAAhB,CAA+B,OAA/B,EAAwCC,SAAxC,GAAoDX,SAApD;;AAEA,SAAMY,cAAcJ,OAAOC,QAAP,CAAgBI,sBAAhB,CAAuC,YAAvC,CAApB;;AAGA;AACA;;AAEAC,WAAMC,IAAN,CAAWH,WAAX,EAAwB,gBAAQ;AAC5BI,cAAKC,OAAL,GAAe,UAAUC,KAAV,EAAiB;AAC5B,iBAAMC,UAAUD,MAAME,MAAtB;AACAF,mBAAMG,cAAN;AACA,sCAAWF,QAAQG,UAAR,CAAmB,SAAnB,EAA8BC,KAAzC;AACA,iBAAMC,MAAML,QAAQM,UAAR,CAAmBA,UAA/B;AACAD,iBAAIC,UAAJ,CAAeC,WAAf,CAA2BF,GAA3B;AACH,UAND;AAOH,MARD;AAYH,EA3BD;;AAgCA;AACA;AACA;AACA,wG;;;;;;;ACxCA,0C;;;;;;;;;;;;SCKoBG,Q,GAAAA,Q;SAKAC,U,GAAAA,U;;AAVpB;;AACA;;;;;;AAEA,KAAMC,UAAU,wBAAhB;;AAEW,UAASF,QAAT,GAAoB;AAC3B,YAAOG,IAAI,OAAJ,CAAP;AACC;;AAGM,UAASF,UAAT,CAAoBxB,EAApB,EAAwB;AAC9B,YAAO2B,eAAa3B,EAAb,CAAP;AACA;;AAED,UAAS0B,GAAT,CAAaE,GAAb,EAAkB;AAClB,YAAOC,MAAMJ,UAAUG,GAAhB,EAAqBjC,IAArB,CAA0BmC,SAA1B,EAAqCC,OAArC,CAAP;AACC;;AAED;AACA,UAASJ,GAAT,CAAaC,GAAb,EAAkB;AACd,SAAMI,UAAU,IAAIC,OAAJ,CAAYR,UAAUG,GAAtB,EAA0B;AACtCM,iBAAQ;AAD8B,MAA1B,CAAhB;;AAIA,YAAOL,MAAMG,OAAN,EAAerC,IAAf,CAAoBmC,SAApB,EAA8BC,OAA9B,CAAP;AACH;;AAID,UAASD,SAAT,CAAmBK,QAAnB,EAA6B;AACzB,YAAOA,SAASC,IAAT,EAAP;AACH;;AAED,UAASL,OAAT,CAAiBM,KAAjB,EAAwB;AACpBC,aAAQC,GAAR,CAAYF,KAAZ,EADoB,CACA;AACvB,E;;;;;;;;;;;;mBCnCmBG,U;AAAT,UAASA,UAAT,GAAsB;AACjC,YAAOC,8BAA8B,YAA9B,IAA8C,wBAA9C,GAAyE,0CAAhF;AACA;AAEH;;AAED,UAASA,6BAAT,CAAuCC,IAAvC,EAA6Cd,GAA7C,EAAkD;AAC9C,SAAI,CAACA,GAAL,EAAUA,MAAMe,OAAOC,QAAP,CAAgBC,IAAtB;AACVH,YAAOA,KAAKI,OAAL,CAAa,SAAb,EAAwB,MAAxB,CAAP;AACA,SAAIC,QAAQ,IAAIC,MAAJ,CAAW,SAASN,IAAT,GAAgB,mBAA3B,CAAZ;AAAA,SACIO,UAAUF,MAAMG,IAAN,CAAWtB,GAAX,CADd;AAEA,SAAI,CAACqB,OAAL,EAAc,OAAO,IAAP;AACd,SAAI,CAACA,QAAQ,CAAR,CAAL,EAAiB,OAAO,EAAP;AACjB,YAAOE,mBAAmBF,QAAQ,CAAR,EAAWH,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,CAAnB,CAAP;AACH,E","file":"main.f8053d72c606042c527e.js","sourcesContent":["import './index.css'\nimport {getUsers, deleteUser} from './api/userApi'\n\n// Populate table of users via Api call.\n\ngetUsers().then(result =>{\n    let  usersBody = \"\";\n\n    result.forEach( user =>{\n        usersBody +=  `<tr><td><a href=\"#\" data-id=\"${user.id}\" class=\"deleteUser\">Delete</a></td><td>${user.id}</td><td>${user.firstName}</td><td>${user.lastName}</td><td>${user.email}</td></tr>`\n\n    });\n    global.document.getElementById('users').innerHTML = usersBody;\n\n    const deleteLinks = global.document.getElementsByClassName('deleteUser');\n\n\n    // Must use array. from to create a real array from a DOM collection\n    // getElementByClassName only returns an \"array like\" object\n\n    Array.from(deleteLinks, link => {\n        link.onclick = function (event) {\n            const element = event.target;\n            event.preventDefault();\n            deleteUser(element.attributes['data-id'].value);\n            const row = element.parentNode.parentNode;\n            row.parentNode.removeChild(row);\n        };\n    });\n\n\n\n});\n\n\n\n\n// import numeral from 'numeral';\n//\n// const courseValue = numeral(1000).format('$0,0.00');\n// console.log(`I wold pay ${courseValue} for this awesome course!`); // eslint-disable-line no-console\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.css\n ** module id = 1\n ** module chunks = 0\n **/","import  'whatwg-fetch';\nimport getBaseUrl from './baseUrl';\n\nconst baseUrl = getBaseUrl();\n\n    export function getUsers() {\n    return get('users');\n    }\n\n\n    export function deleteUser(id) {\n     return del(`users/${id}`);\n    }  \n\n    function get(url) {\n    return fetch(baseUrl + url).then(onSuccess, onError);\n    }\n    \n    //Can't call func delete since reserved word.\n    function del(url) {\n        const request = new Request(baseUrl + url,{\n            method: 'DELETE'\n        });\n\n        return fetch(request).then(onSuccess,onError);\n    }\n    \n    \n\n    function onSuccess(response) {\n        return response.json();\n    }\n    \n    function onError(error) {\n        console.log(error); //eslint-disable-line no-console\n    }\n\n\n/** WEBPACK FOOTER **\n ** ./src/api/userApi.js\n **/","export default function getBaseUrl() {\n    return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : 'https://frozen-dusk-35746.herokuapp.com/';\n    // return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3000/' : '/';\n\n}\n\nfunction getQueryStringParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    let regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/api/baseUrl.js\n **/"],"sourceRoot":""}